<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition>

	<p:dialog id="resultadoExamenViewDlg" width="70%"
		widgetVar="resultadoExamenViewDialog" modal="true" resizable="true"
		 appendTo="@(body)" header="#{msg.resultado}"
		closeOnEscape="true">

		<h:form id="resultadoExamenViewForm">
			<p:dataTable id="datalist"
				value="#{respuestaExamenController.itemResultado}" var="item"
				rowKey="#{item.resultadoExamenUsuarioId}" paginator="true" rows="5"
				rowsPerPageTemplate="10,20,30,40,50" selectionMode="single"
				selection="#{respuestaExamenController.selectedResultado}">

				<p:ajax event="rowSelect" />

				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msg.id}" />
					</f:facet>
					<h:outputText value="#{item.resultadoExamenUsuarioId}" />
				</p:column>

				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msg.area}" />
					</f:facet>
					<h:outputText value="#{item.areaId.nombre}" />
				</p:column>

				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msg.porcentajeAcierto}" />
					</f:facet>
					<h:outputText value="#{item.porcentajeAcierto}%" />
				</p:column>

				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msg.correctas}" />
					</f:facet>
					<h:outputText value="#{item.respuestasCorrectas}" />
				</p:column>

				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msg.incorrectas}" />
					</f:facet>
					<h:outputText value="#{item.respuestasErradas}" />
				</p:column>

				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msg.sinResponder}" />
					</f:facet>
					<h:outputText value="#{item.sinContestar}" />
				</p:column>
				
         		<p:column>
                    <f:facet name="header">
                        <h:outputText value="#{msg.competenciaArea}"/>
                    </f:facet>
                    <p:commandLink id="viewCompetenciaAreaLink" value="#{msg.competenciaArea}" update=":competenciaAreaViewForm, :competenciaAreaViewDlg" 
                    		oncomplete="PF('competenciaAreaViewDialog').show()" actionListener="#{respuestaExamenController.getCompetenciasArea(item)}" />
                </p:column>
                
             	<p:column>
                    <f:facet name="header">
                        <h:outputText value="#{msg.ubicacionArea}"/>
                    </f:facet>
                    <p:commandLink id="viewUbicacionAreaLink" value="#{msg.ubicacionArea}" update=":ubicacionAreaViewForm, :ubicacionAreaViewDlg" 
                    		oncomplete="PF('ubicacionAreaViewDialog').show()" actionListener="#{respuestaExamenController.getUbicacionArea(item)}"/>
                </p:column>
				
         		<p:column>
                    <f:facet name="header">
                        <h:outputText value="#{msg.percentilArea}"/>
                    </f:facet>
                    <p:commandLink id="viewPercentilAreaLink" value="#{msg.percentilArea}" update=":percentilAreaViewForm, :percentilAreaViewDlg" 
                    		oncomplete="PF('percentilAreaViewDialog').show()" actionListener="#{respuestaExamenController.percentilEstudianteArea(item)}" />
                </p:column>
                
				<!-- <p:column style="height:100px; width:400px;">
					<p:chart type="line" model="#{chartView.lineModel1}" style="height:100px; width:400px; margin-top:20px; margin-bottom:5px"/>
				</p:column> -->
			</p:dataTable>

			<p:commandButton id="pdfExport" value="#{msg.pdfExport}"
				actionListener="#{respuestaExamenController.generatePDFReport}" />

		</h:form>
		
	</p:dialog>

</ui:composition>

</html>
